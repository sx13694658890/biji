<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // 队列.html


        function PriorityQueue() {
            let items = []
            function QueueELement(element, priority) {
                this.element = element
                this.priority = priority
            }
            this.entQueue = function (element){
                items.push(element);
            }
           
            this.enqueue = function (element, priority) {
                let queueELement = new QueueELement(element, priority)
                let added = false
                for (let i = 0; i < items.length; i++) {
                    if (queueELement.priority
                        < items[i].priority) {
                        items.splice(i, 0, queueELement)
                        added = true
                        break
                    }
                }
                if (!added) {
                    items.push(queueELement)
                }
            }
            this.dequeue=function(){
                return items.shift()
            }
            this.print = function () {
                for (let i = 0; i < items.length; i++) {
                    console.log(`${items[i].element} -
                                ${items[i].priority}`);

                }
            }
            this.isEmpty=function(){
                return items.length==0
            }
            this.size=function(){
                return items.length
            }
        }

    let priorityQueue = new PriorityQueue();
    priorityQueue.enqueue("John", 2);
    priorityQueue.enqueue("Jack", 1);
    priorityQueue.enqueue("Camila", 1);
    priorityQueue.print();


    console.log('----------击鼓传花-------------');
        function hotPotato(nameList,num){
            let queue=new PriorityQueue()

            for (let i = 0; i < nameList.length; i++) {
                const element = nameList[i];
                queue.entQueue(element)
            }
            let  eliminated=''
           
            while(queue.size()>1){
               
                for (let i = 0; i < num; i++) {
                  queue.entQueue(queue.dequeue())
                }
                eliminated=queue.dequeue()
                 console.log(eliminated + '在击鼓传花游戏中被淘汰。');
            }
            return queue.dequeue()
        }
        hotPotato(['John','Jack','Camila','Ingrid','Carl'],2)




    </script>
</body>

</html>